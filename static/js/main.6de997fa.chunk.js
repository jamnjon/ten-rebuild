(this["webpackJsonpten-client"]=this["webpackJsonpten-client"]||[]).push([[0],{61:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),s=n(31),o=n.n(s),i=n(11),c=n(13),l=n(14),u=n(16),d=n(15),h=n(8),j=n.n(h),g=n(9),p=n(2),b={url:{BASE_URL:"https://floating-beach-57718.herokuapp.com/"}},m=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(g.b,{to:"/login",children:"Log In"}),Object(a.jsx)("br",{}),Object(a.jsx)(g.b,{to:"/signup",children:"Sign Up"}),Object(a.jsx)("br",{}),e.loggedInStatus?Object(a.jsx)(g.b,{to:"/logout",onClick:function(){var t=b.url.BASE_URL+"logout";j.a.delete(t,{withCredentials:!0}).then((function(t){e.handleLogout(),e.history.push("/")})).catch((function(e){return console.log(e)}))},children:"Log Out"}):null]})},O=n(12),f=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.name,a=t.value;r.setState(Object(O.a)({},n,a))},r.handleSubmit=function(e){e.preventDefault();var t=r.state,n={username:t.username,email:t.email,password:t.password},a=b.url.BASE_URL+"login";j.a.post(a,{user:n},{withCredentials:!0}).then((function(e){e.data.logged_in?(r.props.handleLogin(e.data),r.redirect()):r.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},r.redirect=function(){r.props.history.push("/")},r.handleErrors=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:r.state.errors.map((function(e){return Object(a.jsx)("li",{children:e},e)}))})})},r.state={username:"",email:"",password:"",errors:""},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=b.url.BASE_URL+"logged_in";j.a.get(t,{withCredentials:!0}).then((function(t){t.data.logged_in&&e.redirect()}))}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,r=e.password;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Log In"}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("input",{placeholder:"username",type:"text",name:"username",value:t,onChange:this.handleChange}),Object(a.jsx)("input",{placeholder:"email",type:"text",name:"email",value:n,onChange:this.handleChange}),Object(a.jsx)("input",{placeholder:"password",type:"password",name:"password",value:r,onChange:this.handleChange}),Object(a.jsx)("button",{placeholder:"submit",type:"submit",children:"Log In"}),Object(a.jsxs)("div",{children:["or ",Object(a.jsx)(g.b,{to:"/signup",children:"sign up"})]})]}),Object(a.jsx)("div",{children:this.state.errors?this.handleErrors():null})]})}}]),n}(r.Component),x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.name,a=t.value;r.setState(Object(O.a)({},n,a))},r.handleSubmit=function(e){e.preventDefault();var t=r.state,n={username:t.username,email:t.email,password:t.password,password_confirmation:t.password_confirmation},a=b.url.BASE_URL+"users";j.a.post(a,{user:n},{withCredentials:!0}).then((function(e){"created"===e.data.status?(r.props.handleLogin(e.data),r.redirect()):r.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},r.redirect=function(){r.props.history.push("/")},r.handleErrors=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("ul",{children:r.state.errors.map((function(e){return Object(a.jsx)("li",{children:e},e)}))})})},r.state={username:"",email:"",password:"",password_confirmation:"",errors:""},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=b.url.BASE_URL+"logged_in";j.a.get(t,{withCredentials:!0}).then((function(t){t.data.logged_in&&e.redirect()}))}},{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,r=e.password,s=e.password_confirmation;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Sign Up"}),Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(a.jsx)("input",{placeholder:"username",type:"text",name:"username",value:t,onChange:this.handleChange}),Object(a.jsx)("input",{placeholder:"email",type:"text",name:"email",value:n,onChange:this.handleChange}),Object(a.jsx)("input",{placeholder:"password",type:"password",name:"password",value:r,onChange:this.handleChange}),Object(a.jsx)("input",{placeholder:"password confirmation",type:"password",name:"password_confirmation",value:s,onChange:this.handleChange}),Object(a.jsx)("button",{placeholder:"submit",type:"submit",children:"Sign Up"})]}),Object(a.jsx)("div",{children:this.state.errors?this.handleErrors():null})]})}}]),n}(r.Component),v=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).loginStatus=function(){var e=b.url.BASE_URL+"logged_in";j.a.get(e,{withCredentials:!0}).then((function(e){e.data.logged_in?a.handleLogin(e):a.handleLogout()})).catch((function(e){return console.log("api errors:",e)}))},a.handleLogin=function(e){a.setState({isLoggedIn:!0,user:e.user})},a.handleLogout=function(){a.setState({isLoggedIn:!1,user:{}})},a.state={isLoggedIn:!1,user:{}},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loginStatus()}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:Object(a.jsx)(g.a,{children:Object(a.jsxs)(p.c,{children:[Object(a.jsx)(p.a,{exact:!0,path:"/",render:function(t){return Object(a.jsx)(m,Object(i.a)(Object(i.a)({},t),{},{handleLogout:e.handleLogout,loggedInStatus:e.state.isLoggedIn}))}}),Object(a.jsx)(p.a,{exact:!0,path:"/login",render:function(t){return Object(a.jsx)(f,Object(i.a)(Object(i.a)({},t),{},{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}}),Object(a.jsx)(p.a,{exact:!0,path:"/signup",render:function(t){return Object(a.jsx)(x,Object(i.a)(Object(i.a)({},t),{},{handleLogin:e.handleLogin,loggedInStatus:e.state.isLoggedIn}))}})]})})})}}]),n}(r.Component);o.a.render(Object(a.jsx)(v,{}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.6de997fa.chunk.js.map